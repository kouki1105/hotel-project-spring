<!DOCTYPE html>
<html
xmlns		= "http://www.w3.org/1999/xhtml"
xmlns:th	= "http://www.thymeleaf.org"
>
	<head>
		<meta charset="UTF-8" />
		<title>Hotel Project</title>

		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
		<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
		<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css"/>
		<link th:href="@{/css/style.css}" rel="stylesheet">
	</head>
	<body>
		<header class="navbar navbar-top navbar-height navbar-expand-md align-items-center w-100 navbar-light border-bottom">
			<div class="container">
				<a href="/" class="navbar-brand mr-auto font-italic"><span class="h1 m-0">Hotel Project</h1></a>
				<button class="navbar-toggler ml-auto" data-toggle="collapse" data-target="#menu">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div id="menu" class="collapse navbar-collapse">
					<ul class="navbar-nav ml-auto mr-sm-2">
						<li class="nav-item"><a href="/" class="nav-link">トップページ</a></li>
						<li class="nav-item"><a href="/contacts/new" class="nav-link">お問い合わせ</a></li>
						<li class="nav-item"><a href="/prefectures" class="nav-link">都道府県から探す</a></li>
					</ul>
					<form class="form-inline" action="/hotels">
						<input class="form-control mr-sm-2" type="text" name="name" placeholder="ホテル名">
						<button class="btn btn-outline-success my-2 my-sm-0" type="submit">検索</button>
					</form>
				</div>
			</div>
		</header>

		<div class="parallax-window mb-5" data-parallax="scroll" th:data-image-src="@{/images/ship-105596_1280.jpg}"></div>

		<div class="container">

			<div class="slider-for">
				<div th:each="hotel:${hotels}" th:object="${hotel}">
					<img th:src="*{getPhotoUrl()}" class="w-100" alt="">
				</div>
			</div>
			<div class="slider-nav">
				<div th:each="hotel:${hotels}" th:object="${hotel}">
					<img th:src="*{getPhotoUrl()}" class="w-100" alt="">
				</div>
			</div>

			<div th:if="${#strings.isEmpty(queryName)}">
				<h1 th:text="${title}"></h1>
			</div>
			<div th:unless="${#strings.isEmpty(queryName)}">
				<h1>「<span th:text="${queryName}"></span>」の検索結果</h1>
			</div>

			<div class="row">
				<div class="col-md-3 my-2" th:each="hotel:${hotels}" th:object="${hotel}">
					<div class="card h-100">
						<img th:src="*{getPhotoUrl()}" class="card-img-top" alt="ホテルの写真">
						<div class="card-body">
							<h5 th:text="*{name}" class="card-title"></h5>
							<p class="card-text">所在地：<span th:text="*{prefecture.name}"></span></p>
							<div class="star-rating card-text">
								<div th:if="*{getRatingAve() ge 1.00 && getRatingAve() lt 1.50}">
									<p>
										<i class="fas fa-star"></i>
										<i class="far fa-star"></i>
										<i class="far fa-star"></i>
										<i class="far fa-star"></i>
										<i class="far fa-star"></i>
										<span th:text="*{#numbers.formatDecimal(getRatingAve(), 1, 2)}"></span>
									</p>
								</div>
								<div th:if="*{getRatingAve() ge 1.50 && getRatingAve() lt 2.00}">
									<p>
										<i class="fas fa-star"></i>
										<i class="fas fa-star-half-alt"></i>
										<i class="far fa-star"></i>
										<i class="far fa-star"></i>
										<i class="far fa-star"></i>
										<span th:text="*{#numbers.formatDecimal(getRatingAve(), 1, 2)}"></span>
									</p>
								</div>
								<div th:if="*{getRatingAve() ge 2.00 && getRatingAve() lt 2.50}">
									<p>
										<i class="fas fa-star"></i>
										<i class="fas fa-star"></i>
										<i class="far fa-star"></i>
										<i class="far fa-star"></i>
										<i class="far fa-star"></i>
										<span th:text="*{#numbers.formatDecimal(getRatingAve(), 1, 2)}"></span>
									</p>
								</div>
								<div th:if="*{getRatingAve() ge 2.50 && getRatingAve() lt 3.00}">
									<p>
										<i class="fas fa-star"></i>
										<i class="fas fa-star"></i>
										<i class="fas fa-star-half-alt"></i>
										<i class="far fa-star"></i>
										<i class="far fa-star"></i>
										<span th:text="*{#numbers.formatDecimal(getRatingAve(), 1, 2)}"></span>
									</p>
								</div>
								<div th:if="*{getRatingAve() ge 3.00 && getRatingAve() lt 3.50}">
									<p>
										<i class="fas fa-star"></i>
										<i class="fas fa-star"></i>
										<i class="fas fa-star"></i>
										<i class="far fa-star"></i>
										<i class="far fa-star"></i>
										<span th:text="*{#numbers.formatDecimal(getRatingAve(), 1, 2)}"></span>
									</p>
								</div>
								<div th:if="*{getRatingAve() ge 3.50 && getRatingAve() lt 4.00}">
									<p>
										<i class="fas fa-star"></i>
										<i class="fas fa-star"></i>
										<i class="fas fa-star"></i>
										<i class="fas fa-star-half-alt"></i>
										<i class="far fa-star"></i>
										<span th:text="*{#numbers.formatDecimal(getRatingAve(), 1, 2)}"></span>
									</p>
								</div>
								<div th:if="*{getRatingAve() ge 4.00 && getRatingAve() lt 4.50}">
									<p>
										<i class="fas fa-star"></i>
										<i class="fas fa-star"></i>
										<i class="fas fa-star"></i>
										<i class="fas fa-star"></i>
										<i class="far fa-star"></i>
										<span th:text="*{#numbers.formatDecimal(getRatingAve(), 1, 2)}"></span>
									</p>
								</div>
								<div th:if="*{getRatingAve() ge 4.50 && getRatingAve() lt 5.00}">
									<p>
										<i class="fas fa-star"></i>
										<i class="fas fa-star"></i>
										<i class="fas fa-star"></i>
										<i class="fas fa-star"></i>
										<i class="fas fa-star-half-alt"></i>
										<span th:text="*{#numbers.formatDecimal(getRatingAve(), 1, 2)}"></span>
									</p>
								</div>
								<div th:if="*{getRatingAve() eq 5.00}">
									<p>
										<i class="fas fa-star"></i>
										<i class="fas fa-star"></i>
										<i class="fas fa-star"></i>
										<i class="fas fa-star"></i>
										<i class="fas fa-star"></i>
										<span th:text="*{#numbers.formatDecimal(getRatingAve(), 1, 2)}"></span>
									</p>
								</div>
								<div th:if="*{getRatingAve() eq null}">
									<p>null</p>
								</div>
							</div>
							<p th:text="*{description}" class="card-text"></p>
						</div>
						<a class="btn btn-outline-info stretched-link" th:href="@{/hotels/{id}(id=*{id})}">ホテル詳細</a>
					</div>
				</div>
			</div>		  
		</div>

		<div style="height: 2000px;"></div>

		<div id="pagetop"><i class="fas fa-chevron-circle-up fa-4x btn-pagetop"></i></div>

		<footer class="mt-5 p-3 bg-light">
			<div class="d-flex justify-content-around">
				<a href=""><img th:src="@{/images/Twitter_Social_Icon_Rounded_Square_Color.png}" width="30" height="30" alt="twitterアイコン"></a>
				<a href=""><img th:src="@{/images/f_logo_RGB-Blue_58.png}" width="30" height="30" alt="facebookアイコン"></a>
				<a href=""><img th:src="@{/images/Instagram_AppIcon_Aug2017.png}" width="30" height="30" alt="instagramアイコン"></a>
			</div>
			<p class="text-center text-muted display-5 pt-3">Hotel Project</p>
		</footer>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/bs-custom-file-input/dist/bs-custom-file-input.min.js"></script>
		<script>
			bsCustomFileInput.init();
		</script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jscroll/2.4.1/jquery.jscroll.min.js"></script>
		<script src="https://kit.fontawesome.com/2b0c3559b4.js" crossorigin="anonymous"></script>
		<script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
		<script th:src="@{/js/parallax.min.js}"></script>
		<script th:src="@{/js/main.js}"></script>
	</body>
</html>
